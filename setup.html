<!DOCTYPE html>
<html>

<head>
	<title>Vote-O-Mat - Setup</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<meta content="">
	<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="css/popover.css" rel="stylesheet" media="screen">

	<style>
	    .container {
			margin: 2em auto;
		}
		.listcard {
			margin: 0em 0em 1em 0em;
		}
	</style>
	<script defer src="js/fontawesome-all.min.js"></script>
</head>

<body>
	<div class="container">
		<div class="bottom-buffer top-buffer">

			<h1>Vote-O-Mat - Setup</h1>

			<div id="start">
				<p class="lead">Moin!</p>
				<p>Mit diesem hoffentlich praktischen Tool kannst du den Vote-O-Maten allgemein einrichten. Die Thesen und Antworten der Listen kannst du mit <code>generator.html</code> im Verzeichnis <code>vom-instance</code> erstellen.</p>
				<p>Am Ende dieses Setups kommt dann ein kryptischer Text heraus, der im
					<code>config</code>-Verzeichnis des Vote-O-Maten als
					<code>setup.json</code> gespeichert werden muss. Keine Angst, am Ende wird das nochmal detailliert erklärt.</p>
				<p class="text-center">
					<button type="button" id="btn_start_next" class="btn btn-primary">Vote-O-Mat konfigurieren!</button>
				</p>
			</div>


			<div id="language_input">
				<h2>Schritt 1: Sprachen listen</h2>

				<p>Der Vote-O-Mat bietet im Gegensatz zum <a href="https://github.com/HSZemi/mahlowat" target="_blank">mahlowat</a> eine Startseite, auf der Vote-O-Mat-Instanzen in verschiedenen Sprachen gelistet werden. Hier kannst du angeben, welche Sprachen auf der Startseite angezeigt werden sollen.</p>
				<div class="alert alert-primary" role="alert"">
					Diese Einstellungen betreffen ausschließlich die Angaben auf der Startseite. Die eigentlichen Vote-O-Maten in den unterschiedlichen Sprachen musst du händisch erzeugen. In der <code>README</code> erfährst du, wie das geht.
				  </div>
				<img src="img/internal/landing-page-example.png" title="Beispielbild für Startseite mit verschiedenen Sprachen" alt="Beispielbild für Startseite mit verschiedenen Sprachen" style="max-width: 1000px" width="100%"/>
				<p>Jede Sprache wird zusätzlich zum Namen durch eine Flagge symbolisiert. Die Flaggen für Deutsch, Englisch und Französisch sind bereits verfügbar via <code>de.svg</code>, <code>en.svg</code> und <code>fr.svg</code>. Wenn du eine neue Flagge hinzufügen möchtest, platziere die entsprechende Datei im Verzeichnis <code>img</code>. Am besten nutzt du SVG-Grafiken von Wikipedia.</p>
				<p>Wenn alle Sprachen angelegt sind, geht es mit einem Klick auf "Weiter" weiter.</p>

				<div id="language_list" class="col-md-12">
					
				</div>

				<div id="language_topbuttonrow" class="col-md-12">
					<button type="button" id="btn_add_language" class="btn btn-primary">Sprache hinzufügen</button>
					<button type="button" id="btn_step_1_next" class="btn btn-success">Weiter</button>
				</div>

				<div class="modal fade" id="languageUrlHelpModal" tabindex="-1" aria-labelledby="languageUrlHelpModalTitle" role="dialog" aria-hidden="true">
					<div class="modal-dialog modal-dialog-centered" style="max-width: 700px" role="document">
					  <div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="languageUrlHelpModalTitle">Erklärung zum Vote-O-Mat-Link</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							  <span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="alert alert-primary" role="alert" style="margin-top: 1em;">
								Falls du noch nicht weißt, wo die Vote-O-Mat-Instanz später liegen wird, kannst du das Feld auch erst einmal frei lassen und später nachtragen.
							</div>
							<p>Jede Vote-O-Mat-Instanz wird später über eine eigene URL erreichbar sein. Für gewöhnlich ist das die URL zur Landing Page (z.B. <code>https://mein-vote-o-mat.de/</code>) zusammen mit dem Namen des Verzeichnisses, in dem sich die Vote-O-Mat-Instanz befindet. <b>Beispiel: </b>Wenn die deutschsprachige Vote-O-Mat-Instanz im Verzeichnis namens <code>de</code> liegt, würde die URL zur Vote-O-Mat-Instanz also <code>https://mein-vote-o-mat.de/de/</code> lauten.</p>
							<p>Ein anderer Weg, um den Link zur Vote-O-Mat-Instanz zu erhalten: Vote-O-Mat-Instanz im Browser öffnen und die URL aus der Adressleiste kopieren.</p>
							<p><em>Hinweis für IT-Fachmenschen:</em> Der Link kann sowohl als URL als auch als relativer Pfad, ausgehend vom Vote-O-Mat-Verzeichnis mit der Landing Page, angegeben werden.</p>
						</div>
						<div class="modal-footer">
						  <button type="button" class="btn btn-primary" data-dismiss="modal">Alles klar!</button>
						</div>
					  </div>
					</div>
				  </div>

			</div>

			<div id="branding_input">
				<h2>Schritt 2: Branding</h2>

				<p>Der Vote-O-Mat kann mit einem Logo von z.B. der verantwortlichen Organisation versehen werden, um ihm einen offiziellen Charakter zu geben. Dieses Logo wird sowohl in den eigentlichen Vote-O-Mat-Instanzen als auch auf der Startseite gemeinsam mit einem textuellen Zusatz angezeigt.</p>
				
				<img src="img/internal/branding-example.png" alt="Beispielbild für das Logo auf der Startseite und in der Vote-O-Mat-Instanz" title="Beispielbild für das Logo auf der Startseite und in der Vote-O-Mat-Instanz" style="max-width: 1000px" width="100%"/>
				
				<div class="alert alert-primary" role="alert" style="margin-top: 1em;">
					Möchtest du eine Funktion nicht nutzen, lasse das entsprechende Feld frei.
				  </div>

				<div class="card bg-light" style="margin-bottom: 1em">
					<div class="card-body">
						<div class="form-row">
							<div class="col">
								<div class="form-group">
									<label>Logo</label>
									<input type="text" class="form-control" id="input_branding_logo" placeholder="unserlogo.svg">
									<small id="logoHelp" class="form-text text-muted">Name der Logo-Datei. Platziere das Logo im <code>img</code>-Verzeichnis.</small>
								</div>
							</div>
							<div class="col">
								<div class="form-group">
									<label>Zusatz auf Startseite</label>
									<input type="text" class="form-control" id="input_branding_appendix" placeholder="powered by">
								</div>
							</div>
						</div>
						<div class="form-group">
							<label>URL zur Website der Organisation</label>
							<input type="text" class="form-control" id="input_branding_url" placeholder="https://tolleorganisation.de">
							<small id="logoUrlHelp" class="form-text text-muted">Beim Klick auf das Logo auf der Startseite wird diese URL aufgerufen.</small>
						</div>
					</div>
				</div>

				<div id="logo_topbuttonrow" class="col-md-12">
					<button type="button" id="btn_step_2_prev" class="btn btn-default">Zurück</button>
					<button type="button" id="btn_step_2_next" class="btn btn-success">Weiter</button>
				</div>

			</div>

			<div id="actions_input">
				<h2>Schritt 3: Call to Action</h2>

				<p>Auf der Ergebnisseite können so genannte "Calls to Action", Aufforderungen zu Aktionen, angezeigt werden. Die Nutzenden können so z.B. direkt dazu animiert werden Briefwahl zu beantragen oder zu einer Übersicht der Listenprogramme oder verfügbaren Wahllokale geleitet werden.</p>

				<img src="img/internal/actions-example.png" alt="Beispielbild Call to Action" title="Beispielbild für oberen Call to Action" style="max-width: 1000px" width="100%"/>

				<div class="alert alert-primary" role="alert" style="margin: 1em auto;">
					Möchtest du keine Calls to Action anzeigen, stelle sicher, dass unten alle Haken abgewählt sind und gehe direkt weiter.
				</div>

				<p>Es gibt zwei Positionen, an denen je ein Call to Action angezeigt werden kann. Wähle aus, welche aktiviert werden sollen.</p>

				<div class="card bg-light" style="margin-bottom: 1em">
					<div class="card-header">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" value="" id="input_actions_top_enable">
							<label class="form-check-label" for="input_actions_top_enable">
								Oberer Call to Action
							</label>
						</div>
					</div>
					<div class="card-body">
						<div class="form-row">
							<div class="col">
								Wird direkt unterhalb der Ergebnisübersicht angezeigt.
							</div>
							<div class="col">
								<div class="form-group">
									<label>Farbe des Call-to-Action-Felds</label>
									<select class="form-control" id="input_actions_top_color_select">
										<option value="bg-primary text-white">Blau</option>
										<option value="bg-secondary text-white">Grau</option>
										<option value="bg-success text-white">Grün</option>
										<option value="bg-danger text-white">Rot</option>
										<option value="bg-warning text-dark">Gelb</option>
										<option value="bg-info text-white">Türkis</option>
										<option value="bg-light text-dark">Hellgrau</option>
										<option value="bg-dark text-white">Dunkelgrau</option>
										<option value="bg-white text-dark">Weiß</option>
									</select>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="card bg-light" style="margin-bottom: 1em">
					<div class="card-header">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" value="" id="input_actions_bottom_enable">
							<label class="form-check-label" for="input_actions_bottom_enable">
								Unterer Call to Action
							</label>
						</div>
					</div>
					<div class="card-body">
						<div class="form-row">
							<div class="col">
								Wird ganz am Ende der Ergebnisseite angezeigt, unterhalb der Antworten der Listen.
							</div>
							<div class="col">
								<div class="form-group">
									<label>Farbe des Call-to-Action-Felds</label>
									<select class="form-control" id="input_actions_bottom_color_select">
										<option value="bg-primary text-white">Blau</option>
										<option value="bg-secondary text-white">Grau</option>
										<option value="bg-success text-white">Grün</option>
										<option value="bg-danger text-white">Rot</option>
										<option value="bg-warning text-dark">Gelb</option>
										<option value="bg-info text-white">Türkis</option>
										<option value="bg-light text-dark">Hellgrau</option>
										<option value="bg-dark text-white">Dunkelgrau</option>
										<option value="bg-white text-dark">Weiß</option>
									</select>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="card bg-light" style="margin-bottom: 1em">
					<div class="card-header" id="actionsTextInformationHeader">
					  	<h5 class="mb-0">
							<button class="btn btn-link" data-toggle="collapse" data-target="#actionsTextInformationBody" aria-expanded="true" aria-controls="collapseOne">
								Wie wird der textuelle Inhalt eingestellt?
							</button>
						</h5>
					</div>
					<div id="actionsTextInformationBody" class="collapse" aria-labelledby="actionsTextInformationHeader">
						<div class="card-body">
							<p>Der Call to Action besteht aus einem Titel, einem Text und einem Button, bei dessen Klick eine andere Website geöffnet werden kann.</p>
							<p>Insgesamt können daher vier Angaben gemacht werden (siehe folgende Liste). Damit diese wie gewohnt in andere Sprachen übersetzt werden können, müssen sie direkt in den Sprach-Dateien, z.B. <tt>lang/de_de.js</tt>, <tt>lang/en_gb.js</tt> und <tt>lang/fr_fr.js</tt>, eingetragen werden.</p>
							<p>Die folgenden Angaben können gemacht werden:</p>
							<ul style="list-style-type: none">
								<li><code>actions_top_title</code>: Titel des Call to Action. Optional (Überschrift fehlt wenn keine Angabe).</li>
								<li><code>actions_top_text</code>: Text des Call to Action. Optional (Text fehlt wenn keine Angabe).</li>
								<li><code>actions_top_button_caption</code>: Beschriftung des Buttons. Optional (Button fehlt wenn keine Angabe).</li>
								<li><code>actions_top_button_link</code>: Geöffneter Link bei Button-Klick. Optional (Button fehlt wenn keine Angabe).</li>
							</ul>
							<p>Diese Angaben gelten für den oberen Call to Action. Die gleichen Angaben können auch für den unteren Call to Action gemacht werden. Ihre Bezeichnung beinhaltet dann <code>bottom</code> anstelle von <code>top</code>, also z.B. <code>actions_bottom_title</code>.</p>
							<p>So werden die Angaben gemacht (für alle genutzten Sprach-Dateien wiederholen):</p>
							<ol>
								<li>Sprach-Datei öffnen (z.B. <tt>lang/de_de.js</tt>)</li>
								<li>Nach der gewünschten Angaben suchen (z.B. <tt>actions_top_title</tt>. Es sollte ein Eintrag wie <code>this.actions_top_title = ""</code> auftauchen.</li>
								<li>In das <code>""</code> den gewünschten Inhalt eintragen (z.B. <code>"Meine Tolle Überschrift"</code>). Für die Angabe des Button-Links den zu öffnenden Link eintragen (z.B. <code>actions_top_button_link = "https://example.com/deutscher-button-klick"</code>).</li>
								<li>Für alle gewünschten Angaben in allen genutzten Sprach-Dateien wiederholen.</li>
							</ol>
						</div>
					</div>
				</div>

				<div id="logo_topbuttonrow" class="col-md-12">
					<button type="button" id="btn_step_3_prev" class="btn btn-default">Zurück</button>
					<button type="button" id="btn_step_3_next" class="btn btn-success">Weiter</button>
				</div>

			</div>
		</div>

		<div id="statistics_input">
			<h2>Schritt 4: Statistiken</h2>

			<p>Der Vote-O-Mat kann anonyme Statistiken zur Nutzung erstellen. Damit sind grobe Aussagen zum allgemeinen Nutzungsverhalten im zeitlichen Verlauf möglich.</p>
			<div class="alert alert-primary" role="alert" style="margin: 1em auto;">
				Möchtest du die Statistiken nicht aktivieren, stelle sicher, dass unten alle Haken abgewählt sind und erstelle direkt die Konfiguration.
			</div>
			<p><strong>Die Datensammlung funktioniert so:</strong> Im Vote-O-Maten gibt es verschiedene "Checkpoints". Ein Checkpoint kann zum Beispiel der Moment sein, in dem die Ergebnisse angezeigt werden. Das Statistik-Modul speichert, wann welcher Checkpoint erreicht wurde. Zu keinem Zeitpunkt werden durch den Vote-O-Maten nutzerbezogene Daten oder Daten zu den eingegebenen Meinungen erhoben.
			<br>Das Statistik-Modul bereitet die gesammelten Daten visuell auf. Außerdem können sie zur weiteren Analyse heruntergeladen werden.</p>
			
			<p>Im Folgenden kannst du einstellen, welche Checkpoints aktiviert werden sollen.</p>

			<div class="card bg-light" style="margin-bottom: 1em">
				<div class="card-header">
					<div class="form-check">
						<input class="form-check-input" type="checkbox" value="" id="input_statistics_enter_enable">
						<label class="form-check-label" for="input_statistics_enter_enable">
							Aufruf
						</label>
					</div>
				</div>
				<div class="card-body">
					<div class="form-row">
						<div class="col">
							Erheben, dass die Website des Vote-O-Maten aufgerufen wurde.
						</div>
						<div class="col">
							<div class="form-group">
								<label>Benutzerdefinierte Checkpoint-ID</label>
								<input type="text" class="form-control" id="input_statistics_enter_name" placeholder="enter">
								<small id="customCheckpointHelp" class="form-text text-muted">Hier kannst du einen eigenen Namen für den Checkpoint vergeben. Standardmäßig <tt>enter</tt>. Der Checkpoint-Name muss einzigartig sein.</small>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="card bg-light" style="margin-bottom: 1em">
				<div class="card-header">
					<div class="form-check">
						<input class="form-check-input" type="checkbox" value="" id="input_statistics_start_enable">
						<label class="form-check-label" for="input_statistics_start_enable">
							Start
						</label>
					</div>
				</div>
				<div class="card-body">
					<div class="form-row">
						<div class="col">
							Erheben, dass der Button "Vote-O-Mat starten" gedrückt wurde.
						</div>
						<div class="col">
							<div class="form-group">
								<label>Benutzerdefinierte Checkpoint-ID</label>
								<input type="text" class="form-control" id="input_statistics_start_name" placeholder="start">
								<small id="customCheckpointHelp" class="form-text text-muted">Hier kannst du einen eigenen Namen für den Checkpoint vergeben. Standardmäßig <tt>start</tt>. Der Checkpoint-Name muss einzigartig sein.</small>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="card bg-light" style="margin-bottom: 1em">
				<div class="card-header">
					<div class="form-check">
						<input class="form-check-input" type="checkbox" value="" id="input_statistics_result_enable">
						<label class="form-check-label" for="input_statistics_result_enable">
							Abschluss
						</label>
					</div>
				</div>
				<div class="card-body">
					<div class="form-row">
						<div class="col">
							Erheben, dass die Ergebnisse angezeigt wurden.
						</div>
						<div class="col">
							<div class="form-group">
								<label>Benutzerdefinierte Checkpoint-ID</label>
								<input type="text" class="form-control" id="input_statistics_result_name" placeholder="result">
								<small id="customCheckpointHelp" class="form-text text-muted">Hier kannst du einen eigenen Namen für den Checkpoint vergeben. Standardmäßig <tt>result</tt>. Der Checkpoint-Name muss einzigartig sein.</small>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="card bg-light" style="margin-bottom: 1em">
				<div class="card-header" id="groupOptionsHeader">
					<h5 class="mb-0">
						<button class="btn btn-link" data-toggle="collapse" data-target="#groupOptionsBody" aria-expanded="true" aria-controls="collapseOne">
							Nach Sprachen getrennte Statistiken
						</button>
					</h5>
				</div>
				<div id="groupOptionsBody" class="collapse" aria-labelledby="groupOptionsHeader">
					<div class="card-body">
						<p>Die Statistiken können nach Sprachen getrennt erfasst werden. Das geschieht, indem das Statistik-Modul jeden gespeicherten Checkpoint mit einem Präfix versieht, das die Sprache des verwendeten Vote-O-Maten angibt.</p>
						<p>Im Folgenden kannst du einstellen, welche Sprache welches Präfix erhalten soll. Wenn die Statistiken nicht nach Sprachen getrennt erstellt werden sollen, lösche alle Präfixe.</p>
						<p>Empfohlene Präfixe: "de-" für Deutsch, "en-" für Englisch und "fr-" für Französisch.</p>
						<div id="group_list"></div>
						<div id="statistics_group_list_buttons" class="col-md-12">
							<button type="button" id='btn_add_group' class="btn btn-primary">Sprachpräfix hinzufügen</button>
						</div>
					</div>
				</div>
			</div>

			<div class="card bg-light" style="margin-bottom: 1em">
				<div class="card-header" id="advancedOptionsHeader">
					<h5 class="mb-0">
						<button class="btn btn-link" data-toggle="collapse" data-target="#advancedOptionsBody" aria-expanded="true" aria-controls="collapseOne">
							Fortgeschrittene Einstellungen
						</button>
					</h5>
				</div>
				<div id="advancedOptionsBody" class="collapse" aria-labelledby="advancedOptionsHeader">
					<div class="card-body">
						<div class="alert alert-warning" role="alert" style="margin: 1em auto;">
							Ändere diese Einstellungen nur, wenn du weißt, was du tust.
						</div>
						<div class="form-group">
							<label>Pfad zur Log-Datei</label>
							<input type="text" class="form-control" id="input_statistics_log" placeholder="../hits.log">
							<small id="customLogHelp" class="form-text text-muted">Pfad zur Log-Datei, relativ zum Arbeitsverzeichnis des Statistik-Moduls. Standardmäßig <tt>hits.log</tt> im Arbeitsverzeichnis des Statistik-Moduls.</small>
						</div>
						<div class="form-group">
							<label>URL zum Statistik-Modul</label>
							<input type="text" class="form-control" id="input_statistics_url" placeholder="https://meintollerserver.de/vom-statistics">
							<small id="customStatisticsHelp" class="form-text text-muted">Unter welcher URL ist das Statistik-Modul <code>vom-statistics</code> erreichbar? <a href="README-DE.md" target="_blank">Erfahre mehr</a></small>
						</div>
					</div>
				</div>
			</div>

			<div id="logo_topbuttonrow" class="col-md-12">
				<button type="button" id="btn_step_4_prev" class="btn btn-default">Zurück</button>
				<button type="button" id="btn_generate" class="btn btn-success">Konfiguration erstellen</button>
			</div>

		</div>

		<div id="encodeddata">
			<p class="lead">Geschafft! Also fast.</p>
			<p>Im untenstehenden Textfeld findest du deine Vote-O-Mat-Konfiguration.</p>
			<p>Dieser Text muss jetzt genau so in die Datei
				<code>setup.json</code> im Verzeichnis
				<code>config</code> des Vote-O-Maten kopiert werden. Falls diese Datei nicht existiert, erstelle sie einfach. Achte darauf, dass die Datei im
				UTF-8-Format gespeichert wird!</p>
			<button type="button" id="btn_generate_prev" class="btn btn-default">Zurück</button>
			<a id="btn_copy_encodeddata" tabindex="0" role="button" class="btn btn-success" data-toggle="popover" data-content="Konfiguration kopiert! Du kannst sie nun in die Konfigurationsdatei einfügen." data-template='<div class="popover bg-success" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body border-success bg-success text-white"></div></div>'>Konfiguration in Zwischenablage kopieren</a>
			<textarea class="form-control" rows="20" id="output_encodeddata" style="margin-top: 1em;"></textarea>
		</div>

	</div>

	<script src="js/jquery-3.3.1.min.js"></script>
	<script src="js/bootstrap.bundle.min.js"></script>
	<script src="js/setup.js"></script>
</body>

</html>